<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="X-UA-Compatible"
      content="ie=edge" />
    <title>BTRAL</title>
    <link
      rel="stylesheet"
      href="index.css" />
  </head>
  <body>
    <main class="content">
      <h1>B.T.R.A.L.</h1>
      <p>
        B.T.R.A.L. converts IP address Blocklists to RouterOS Address
        Lists.
      </p>
      <p>
        RouterOS unfortunately lacks the ability to import IP address
        blocklists, so this tool converts them to RouterOS Address List
        creation scripts.
      </p>
      <p>For example; the following blocklist:</p>
      <pre><code>0.0.0.0
1.1.1.1
; ...</code></pre>
      <p>Would be converted to the following script:</p>
      <pre><code>/ip firewall address-list
add address=0.0.0.0 list=your-ip-list-name
add address=1.1.1.1 list=your-ip-list-name</code></pre>
      <h2>Script Generator</h2>
      <p>
        Fill out the form below to generate a script to import your
        blocklist into RouterOS and create a schedule to keep it
        updated.
      </p>
      <p>
        The "See Converted List" button will show the converted
        blocklist as a RouterOS script in a new tab, this is what will
        be loaded into your RouterOS device each time the list is
        synced. This button only becomes available after "Blocklist URL"
        and "Address List Name" have been filled out.
      </p>
      <form
        id="form"
        method="post">
        <div class="input">
          <label for="blocklisturl">
            Blocklist URL
            <input
              id="blocklisturl"
              name="blocklisturl"
              type="url"
              autocomplete="off"
              aria-labelledby="blocklisturl-hint"
              required />
          </label>
          <span id="blocklisturl-hint"
            >URL to a public IP blocklist, this should be a new-line
            separated list of IP Addresses, comments may be marked by
            "<code>#</code>", "<code>//</code>", or
            "<code>;</code>".</span
          >
        </div>
        <div class="input">
          <label for="addresslistname">
            Address List Name
            <input
              id="addresslistname"
              name="addresslistname"
              type="text"
              autocomplete="off"
              aria-labelledby="addresslistname-hint"
              required />
          </label>
          <span id="addresslistname-hint"
            >Name of the Address List in RouterOS</span
          >
        </div>
        <div class="input">
          <label for="syncinterval">
            Sync Interval
            <input
              id="syncinterval"
              name="syncinterval"
              type="text"
              autocomplete="off"
              required />
          </label>
          <span id="syncinterval-hint"
            >How often to download and apply the address list, for
            example <code>15m</code> for every 15 minutes, or
            <code>1d</code> for once per day</span
          >
        </div>
        <div class="input">
          <label for="storagepath">
            Storage Path
            <input
              id="storagepath"
              name="storagepath"
              type="text"
              autocomplete="off" />
          </label>
          <span id="storagepath-hint"
            >Path to store the address list, for example
            <code>sd1</code> for the SD Card storage device, or leave
            blank for the root path (using an SD Card is recommended for
            large lists)</span
          >
        </div>
        <div class="button-group">
          <button
            id="submit"
            type="submit">
            Convert
          </button>
          <button
            disabled
            id="show-conversion"
            type="button">
            See Converted List
          </button>
        </div>
      </form>
      <p>
        Copy the script below and paste it into your RouterOS terminal.
      </p>
      <div id="output">
        <pre><code># Fill out the form to get your script.</code></pre>
      </div>
    </main>
    <footer>
      <a href="https://www.idyllicdigital.com">Idyllic Digtal</a> Â© 2024
    </footer>
    <script src="index.js"></script>
  </body>
</html>
